{
    "url": "https://api.github.com/repos/commons-app/apps-android-commons/issues/5234",
    "repository_url": "https://api.github.com/repos/commons-app/apps-android-commons",
    "labels_url": "https://api.github.com/repos/commons-app/apps-android-commons/issues/5234/labels{/name}",
    "comments_url": "https://api.github.com/repos/commons-app/apps-android-commons/issues/5234/comments",
    "events_url": "https://api.github.com/repos/commons-app/apps-android-commons/issues/5234/events",
    "html_url": "https://github.com/commons-app/apps-android-commons/issues/5234",
    "id": 1751816066,
    "node_id": "I_kwDOAoFe9M5oapeC",
    "number": 5234,
    "title": "[Bug]: some images visible in the list disappear when clicked on details",
    "user": {
        "login": "mnalis",
        "id": 156656,
        "node_id": "MDQ6VXNlcjE1NjY1Ng==",
        "avatar_url": "https://avatars.githubusercontent.com/u/156656?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mnalis",
        "html_url": "https://github.com/mnalis",
        "followers_url": "https://api.github.com/users/mnalis/followers",
        "following_url": "https://api.github.com/users/mnalis/following{/other_user}",
        "gists_url": "https://api.github.com/users/mnalis/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/mnalis/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/mnalis/subscriptions",
        "organizations_url": "https://api.github.com/users/mnalis/orgs",
        "repos_url": "https://api.github.com/users/mnalis/repos",
        "events_url": "https://api.github.com/users/mnalis/events{/privacy}",
        "received_events_url": "https://api.github.com/users/mnalis/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 257201818,
            "node_id": "MDU6TGFiZWwyNTcyMDE4MTg=",
            "url": "https://api.github.com/repos/commons-app/apps-android-commons/labels/bug",
            "name": "bug",
            "color": "fc2929",
            "default": true,
            "description": null
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 3,
    "created_at": "2023-06-12T03:19:31Z",
    "updated_at": "2023-06-16T14:34:47Z",
    "closed_at": null,
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "body": "### Summary\n\nWhen I click on some images that I've taken and uploaded for commons, on their detail page image starts to show, but then disappears. For some images it works normally, showing full picture taken.\n\n### Steps to reproduce\n\n1. take some pictures with Commons app and upload them\r\n2. go in area without internet\r\n3. try to click on \"thumbnail\" in the list of pictures in app in main view (in order to see picture metadata and full-sized picture)\r\n4. notice that picture is shown for some images, but not others\n\n### Expected behaviour\n\nin step `3.`, I'd expect that I could see all pictures normally when I click on them\n\n### Actual behaviour\n\nsome images are not visible after clicking on them.\r\n\r\nWhen clicked in images list, the image is initially shown for a split second, but it then fades-out to gray \"mountain & sun\" placeholder.\n\n### Device name\n\nHuawei P30Pro\n\n### Android version\n\nAndroid 10 (EMUI 12)\n\n### Commons app version\n\n4.0.3~cf35307d9 (latest f-droid)\n\n### Device logs\n\n```\r\n2023-06-08 18:49:20,172     [DEBUG] [file-logging-thread-1] [LocationServiceManager] : on location changed\r\n2023-06-08 18:49:21,908     [DEBUG] [file-logging-thread-1] [MediaDetailFragment] : Media license is: CC BY 4.0\r\n2023-06-08 18:49:21,912     [DEBUG] [file-logging-thread-1] [MediaDetailFragment] : Media license is: CC BY-SA 4.0\r\n2023-06-08 18:49:21,913     [DEBUG] [file-logging-thread-1] [MediaDetailFragment] : Media license is: CC BY 4.0\r\n2023-06-08 18:49:21,915     [DEBUG] [file-logging-thread-1] [MediaDataExtractor] : Error occurred while fetching discussion\r\n2023-06-08 18:49:21,920     [DEBUG] [file-logging-thread-1] [MediaDataExtractor] : Error occurred while fetching discussion\r\n2023-06-08 18:49:21,922     [DEBUG] [file-logging-thread-1] [MediaDataExtractor] : Error occurred while fetching discussion\r\n2023-06-08 18:49:21,928     [ERROR] [file-logging-thread-1] [-$$Lambda$mvgeVM6S-0Wc8Z2hreSxmgnMF1Y] : java.net.UnknownHostException: Unable to resolve host \"commons.wikimedia.org\": No address\r\n associated with hostname\r\n        at java.net.Inet6AddressImpl.lookupHostByName(Inet6AddressImpl.java:156)\r\n        at java.net.Inet6AddressImpl.lookupAllHostAddr(Inet6AddressImpl.java:103)\r\n        at java.net.InetAddress.getAllByName(InetAddress.java:1152)\r\n        at okhttp3.Dns$Companion$DnsSystem.lookup(Dns.kt:49)\r\n        at okhttp3.internal.connection.RouteSelector.resetNextInetSocketAddress(RouteSelector.kt:164)\r\n        at okhttp3.internal.connection.RouteSelector.nextProxy(RouteSelector.kt:129)\r\n        at okhttp3.internal.connection.RouteSelector.next(RouteSelector.kt:71)\r\n        at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:205)\r\n        at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)\r\n        at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)\r\n        at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)\r\n        at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\n        at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\n        at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\n        at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\n        at fr.free.nrw.commons.OkHttpConnectionFactory$CommonHeaderRequestInterceptor.intercept(OkHttpConnectionFactory.java:67)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\n        at fr.free.nrw.commons.OkHttpConnectionFactory$UnsuccessfulResponseInterceptor.intercept(OkHttpConnectionFactory.java:80)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\n        at okhttp3.logging.HttpLoggingInterceptor.intercept(HttpLoggingInterceptor.kt:221)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\n        at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)\r\n        at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)\r\n        at retrofit2.OkHttpCall.execute(OkHttpCall.java:190)\r\n        at retrofit2.adapter.rxjava2.CallExecuteObservable.subscribeActual(CallExecuteObservable.java:42)\r\n        at io.reactivex.Observable.subscribe(Observable.java:12267)\r\n        at retrofit2.adapter.rxjava2.BodyObservable.subscribeActual(BodyObservable.java:34)\r\n        at io.reactivex.Observable.subscribe(Observable.java:12267)\r\n        at io.reactivex.internal.operators.observable.ObservableSingleSingle.subscribeActual(ObservableSingleSingle.java:35)\r\n        at io.reactivex.Single.subscribe(Single.java:3603)\r\n        at io.reactivex.internal.operators.single.SingleMap.subscribeActual(SingleMap.java:34)\r\n        at io.reactivex.Single.subscribe(Single.java:3603)\r\n        at io.reactivex.internal.operators.single.SingleSubscribeOn$SubscribeOnObserver.run(SingleSubscribeOn.java:89)\r\n        at io.reactivex.Scheduler$DisposeTask.run(Scheduler.java:578)\r\n        at io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:66)\r\n        at io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:57)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:301)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n        at java.lang.Thread.run(Thread.java:929)\r\nCaused by: android.system.GaiException: android_getaddrinfo failed: EAI_NODATA (No address associated with hostname)\r\n        at libcore.io.Linux.android_getaddrinfo(Native Method)\r\n        at libcore.io.ForwardingOs.android_getaddrinfo(ForwardingOs.java:74)\r\n        at libcore.io.BlockGuardOs.android_getaddrinfo(BlockGuardOs.java:200)\r\n        at libcore.io.ForwardingOs.android_getaddrinfo(ForwardingOs.java:74)\r\n        at java.net.Inet6AddressImpl.lookupHostByName(Inet6AddressImpl.java:135)\r\n        ... 44 more\r\n\r\n2023-06-08 18:49:21,928     [ERROR] [file-logging-thread-1] [-$$Lambda$mvgeVM6S-0Wc8Z2hreSxmgnMF1Y] : java.net.UnknownHostException: Unable to resolve host \"commons.wikimedia.org\": No address associated with hostname\r\n        at java.net.Inet6AddressImpl.lookupHostByName(Inet6AddressImpl.java:156)\r\n        at java.net.Inet6AddressImpl.lookupAllHostAddr(Inet6AddressImpl.java:103)\r\n        at java.net.InetAddress.getAllByName(InetAddress.java:1152)\r\n        at okhttp3.Dns$Companion$DnsSystem.lookup(Dns.kt:49)\r\n        at okhttp3.internal.connection.RouteSelector.resetNextInetSocketAddress(RouteSelector.kt:164)\r\n        at okhttp3.internal.connection.RouteSelector.nextProxy(RouteSelector.kt:129)\r\n        at okhttp3.internal.connection.RouteSelector.next(RouteSelector.kt:71)\r\n        at okhttp3.internal.connection.ExchangeFinder.findConnection(ExchangeFinder.kt:205)\r\n        at okhttp3.internal.connection.ExchangeFinder.findHealthyConnection(ExchangeFinder.kt:106)\r\n        at okhttp3.internal.connection.ExchangeFinder.find(ExchangeFinder.kt:74)\r\n        at okhttp3.internal.connection.RealCall.initExchange$okhttp(RealCall.kt:255)\r\n        at okhttp3.internal.connection.ConnectInterceptor.intercept(ConnectInterceptor.kt:32)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\n        at okhttp3.internal.cache.CacheInterceptor.intercept(CacheInterceptor.kt:95)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\n        at okhttp3.internal.http.BridgeInterceptor.intercept(BridgeInterceptor.kt:83)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\n        at okhttp3.internal.http.RetryAndFollowUpInterceptor.intercept(RetryAndFollowUpInterceptor.kt:76)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\n        at fr.free.nrw.commons.OkHttpConnectionFactory$CommonHeaderRequestInterceptor.intercept(OkHttpConnectionFactory.java:67)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\n        at fr.free.nrw.commons.OkHttpConnectionFactory$UnsuccessfulResponseInterceptor.intercept(OkHttpConnectionFactory.java:80)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\n        at okhttp3.logging.HttpLoggingInterceptor.intercept(HttpLoggingInterceptor.kt:221)\r\n        at okhttp3.internal.http.RealInterceptorChain.proceed(RealInterceptorChain.kt:109)\r\n        at okhttp3.internal.connection.RealCall.getResponseWithInterceptorChain$okhttp(RealCall.kt:201)\r\n        at okhttp3.internal.connection.RealCall.execute(RealCall.kt:154)\r\n        at retrofit2.OkHttpCall.execute(OkHttpCall.java:190)\r\n        at retrofit2.adapter.rxjava2.CallExecuteObservable.subscribeActual(CallExecuteObservable.java:42)\r\n        at io.reactivex.Observable.subscribe(Observable.java:12267)\r\n        at retrofit2.adapter.rxjava2.BodyObservable.subscribeActual(BodyObservable.java:34)\r\n        at io.reactivex.Observable.subscribe(Observable.java:12267)\r\n        at io.reactivex.internal.operators.observable.ObservableSingleSingle.subscribeActual(ObservableSingleSingle.java:35)\r\n        at io.reactivex.Single.subscribe(Single.java:3603)\r\n        at io.reactivex.internal.operators.single.SingleMap.subscribeActual(SingleMap.java:34)\r\n        at io.reactivex.Single.subscribe(Single.java:3603)\r\n        at io.reactivex.internal.operators.single.SingleSubscribeOn$SubscribeOnObserver.run(SingleSubscribeOn.java:89)\r\n        at io.reactivex.Scheduler$DisposeTask.run(Scheduler.java:578)\r\n        at io.reactivex.internal.schedulers.ScheduledRunnable.run(ScheduledRunnable.java:66)\r\n        at io.reactivex.internal.schedulers.ScheduledRunnable.call(ScheduledRunnable.java:57)\r\n        at java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\n        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:301)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n        at java.lang.Thread.run(Thread.java:929)\r\nCaused by: android.system.GaiException: android_getaddrinfo failed: EAI_NODATA (No address associated with hostname)\r\n        at libcore.io.Linux.android_getaddrinfo(Native Method)\r\n        at libcore.io.ForwardingOs.android_getaddrinfo(ForwardingOs.java:74)\r\n        at libcore.io.BlockGuardOs.android_getaddrinfo(BlockGuardOs.java:200)\r\n        at libcore.io.ForwardingOs.android_getaddrinfo(ForwardingOs.java:74)\r\n        at java.net.Inet6AddressImpl.lookupHostByName(Inet6AddressImpl.java:135)\r\n        ... 44 more\r\n\r\n```\n\n### Screen-shots\n\nHere is video of it happening:\r\n\r\n\r\nhttps://github.com/commons-app/apps-android-commons/assets/156656/c08314c2-2614-4a64-a77f-215c835cc4df\r\n\r\nYou'll notice that image is normally displayed only for \"fig leaves\" picture (_\"smokva sa nezrelim plodom\"_), but it fails to display on other two images. \r\n\r\nIf you watch carefully (or step frame-by-frame) you'll also notice that **all the images do actually get shown**, but after being show for a fraction of second they are **removed and replaced by gray placeholder**. \n\n### Would you like to work on the issue?\n\nNone",
    "closed_by": null,
    "reactions": {
        "url": "https://api.github.com/repos/commons-app/apps-android-commons/issues/5234/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/commons-app/apps-android-commons/issues/5234/timeline",
    "performed_via_github_app": null,
    "state_reason": null
}