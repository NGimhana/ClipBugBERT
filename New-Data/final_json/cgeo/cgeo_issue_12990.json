{
    "url": "https://api.github.com/repos/cgeo/cgeo/issues/12990",
    "repository_url": "https://api.github.com/repos/cgeo/cgeo",
    "labels_url": "https://api.github.com/repos/cgeo/cgeo/issues/12990/labels{/name}",
    "comments_url": "https://api.github.com/repos/cgeo/cgeo/issues/12990/comments",
    "events_url": "https://api.github.com/repos/cgeo/cgeo/issues/12990/events",
    "html_url": "https://github.com/cgeo/cgeo/issues/12990",
    "id": 1230817308,
    "node_id": "I_kwDOAB70tM5JXMgc",
    "number": 12990,
    "title": "TransationTooLarge Exception when trying to open caches from map",
    "user": {
        "login": "Lineflyer",
        "id": 949669,
        "node_id": "MDQ6VXNlcjk0OTY2OQ==",
        "avatar_url": "https://avatars.githubusercontent.com/u/949669?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Lineflyer",
        "html_url": "https://github.com/Lineflyer",
        "followers_url": "https://api.github.com/users/Lineflyer/followers",
        "following_url": "https://api.github.com/users/Lineflyer/following{/other_user}",
        "gists_url": "https://api.github.com/users/Lineflyer/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Lineflyer/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Lineflyer/subscriptions",
        "organizations_url": "https://api.github.com/users/Lineflyer/orgs",
        "repos_url": "https://api.github.com/users/Lineflyer/repos",
        "events_url": "https://api.github.com/users/Lineflyer/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Lineflyer/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 132475,
            "node_id": "MDU6TGFiZWwxMzI0NzU=",
            "url": "https://api.github.com/repos/cgeo/cgeo/labels/Bug",
            "name": "Bug",
            "color": "e10c02",
            "default": false,
            "description": "Issues classified as a bug"
        },
        {
            "id": 142241,
            "node_id": "MDU6TGFiZWwxNDIyNDE=",
            "url": "https://api.github.com/repos/cgeo/cgeo/labels/Unverified",
            "name": "Unverified",
            "color": "0b02e1",
            "default": false,
            "description": "Issue not yet confirmed/reproduced or feature requests not yet checked for plausibility"
        }
    ],
    "state": "open",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 4,
    "created_at": "2022-05-10T08:40:40Z",
    "updated_at": "2022-07-01T20:52:17Z",
    "closed_at": null,
    "author_association": "MEMBER",
    "active_lock_reason": null,
    "body": "### Describe your problem!\r\n\r\nA single user reported the problem of frequent (but not strictly reproducible) crashes when using the map.\r\n\r\nThings checked already:\r\n- Deleted and deactivated Positions history (see #9188)\r\n- Checked different map types and happens on all of them\r\n\r\n\r\nHere is a video (Note: The video shows some broken position history, but as stated above we already tried removing it afterwards but it did not fix the problem):\r\nhttps://www.dropbox.com/s/sxn6q6dmnxjd8nz/2022-05-09%2011.42.50-1.mp4\r\n\r\nAny ideas how to debug?\r\n\r\n### How to reproduce?\r\n\r\nThe problem usually appears when subsequently clicking on caches, open the popup and then after clicking \"More details\".\r\n\r\n### Actual result after these steps?\r\n\r\nCrash\r\n\r\n\r\n```\r\n05-09 19:40:12.867 31459 31459 E JavaBinder: !!! FAILED BINDER TRANSACTION !!!  (parcel size = 622968)\r\n05-09 19:40:12.868 31459 31459 W ActivityStopInfo: Bundle stats:\r\n05-09 19:40:12.871 31459 31459 W ActivityStopInfo:   route [size=621920]\r\n05-09 19:40:12.871 31459 31459 W ActivityStopInfo: PersistableBundle stats:\r\n05-09 19:40:12.871 31459 31459 W ActivityStopInfo:   [null]\r\n05-09 19:40:12.872 31459 31459 D AndroidRuntime: Shutting down VM\r\n05-09 19:40:12.872 31459 31459 E AndroidRuntime: FATAL EXCEPTION: main\r\n05-09 19:40:12.872 31459 31459 E AndroidRuntime: Process: cgeo.geocaching, PID: 31459\r\n05-09 19:40:12.872 31459 31459 E AndroidRuntime: java.lang.RuntimeException: android.os.TransactionTooLargeException: data parcel size 622968 bytes\r\n05-09 19:40:12.872 31459 31459 E AndroidRuntime:     at android.app.ActivityClient.activityStopped(ActivityClient.java:86)\r\n05-09 19:40:12.872 31459 31459 E AndroidRuntime:     at android.app.servertransaction.PendingTransactionActions$StopInfo.run(PendingTransactionActions.java:143)\r\n05-09 19:40:12.872 31459 31459 E AndroidRuntime:     at android.os.Handler.handleCallback(Handler.java:938)\r\n05-09 19:40:12.872 31459 31459 E AndroidRuntime:     at android.os.Handler.dispatchMessage(Handler.java:99)\r\n05-09 19:40:12.872 31459 31459 E AndroidRuntime:     at android.os.Looper.loopOnce(Looper.java:226)\r\n05-09 19:40:12.872 31459 31459 E AndroidRuntime:     at android.os.Looper.loop(Looper.java:313)\r\n05-09 19:40:12.872 31459 31459 E AndroidRuntime:     at android.app.ActivityThread.main(ActivityThread.java:8663)\r\n05-09 19:40:12.872 31459 31459 E AndroidRuntime:     at java.lang.reflect.Method.invoke(Native Method)\r\n05-09 19:40:12.872 31459 31459 E AndroidRuntime:     at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:567)\r\n05-09 19:40:12.872 31459 31459 E AndroidRuntime:     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)\r\n05-09 19:40:12.872 31459 31459 E AndroidRuntime: Caused by: android.os.TransactionTooLargeException: data parcel size 622968 bytes\r\n05-09 19:40:12.872 31459 31459 E AndroidRuntime:     at android.os.BinderProxy.transactNative(Native Method)\r\n05-09 19:40:12.872 31459 31459 E AndroidRuntime:     at android.os.BinderProxy.transact(BinderProxy.java:635)\r\n05-09 19:40:12.872 31459 31459 E AndroidRuntime:     at android.app.IActivityClientController$Stub$Proxy.activityStopped(IActivityClientController.java:1358)\r\n05-09 19:40:12.872 31459 31459 E AndroidRuntime:     at android.app.ActivityClient.activityStopped(ActivityClient.java:83)\r\n05-09 19:40:12.872 31459 31459 E AndroidRuntime:     ... 9 more\r\n05-09 19:40:12.872 31459 31459 W cgeo    : [main] UncaughtException\r\n05-09 19:40:12.872 31459 31459 W cgeo    : java.lang.RuntimeException: android.os.TransactionTooLargeException: data parcel size 622968 bytes\r\n05-09 19:40:12.872 31459 31459 W cgeo    :     at android.app.ActivityClient.activityStopped(ActivityClient.java:86)\r\n05-09 19:40:12.872 31459 31459 W cgeo    :     at android.app.servertransaction.PendingTransactionActions$StopInfo.run(PendingTransactionActions.java:143)\r\n05-09 19:40:12.872 31459 31459 W cgeo    :     at android.os.Handler.handleCallback(Handler.java:938)\r\n05-09 19:40:12.872 31459 31459 W cgeo    :     at android.os.Handler.dispatchMessage(Handler.java:99)\r\n05-09 19:40:12.872 31459 31459 W cgeo    :     at android.os.Looper.loopOnce(Looper.java:226)\r\n05-09 19:40:12.872 31459 31459 W cgeo    :     at android.os.Looper.loop(Looper.java:313)\r\n05-09 19:40:12.872 31459 31459 W cgeo    :     at android.app.ActivityThread.main(ActivityThread.java:8663)\r\n05-09 19:40:12.872 31459 31459 W cgeo    :     at java.lang.reflect.Method.invoke(Native Method)\r\n05-09 19:40:12.872 31459 31459 W cgeo    :     at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:567)\r\n05-09 19:40:12.872 31459 31459 W cgeo    :     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1135)\r\n05-09 19:40:12.872 31459 31459 W cgeo    : Caused by: android.os.TransactionTooLargeException: data parcel size 622968 bytes\r\n05-09 19:40:12.872 31459 31459 W cgeo    :     at android.os.BinderProxy.transactNative(Native Method)\r\n05-09 19:40:12.872 31459 31459 W cgeo    :     at android.os.BinderProxy.transact(BinderProxy.java:635)\r\n05-09 19:40:12.872 31459 31459 W cgeo    :     at android.app.IActivityClientController$Stub$Proxy.activityStopped(IActivityClientController.java:1358)\r\n05-09 19:40:12.872 31459 31459 W cgeo    :     at android.app.ActivityClient.activityStopped(ActivityClient.java:83)\r\n05-09 19:40:12.872 31459 31459 W cgeo    :     ... 9 more\r\n05-09 19:40:12.883 31459 31459 I Process : Sending signal. PID: 31459 SIG: 9\r\n05-09 19:40:13.142  2154  2154 E cgeo.geocachin: Not starting debugger since process cannot load the jdwp agent.\r\n05-09 19:40:13.145  2154  2154 E USNET   : USNET: appName: cgeo.geocaching\r\n05-09 19:40:13.145  2154  2154 D ProcessState: Binder ioctl to enable oneway spam detection failed: Invalid argument\r\n```\r\n\r\n\r\n\r\n\r\n### Expected result after these steps?\r\n\r\nNo crash\r\n\r\n### Reproducible\r\n\r\nUnclear\r\n\r\n### c:geo Version\r\n\r\n2022.03.10\r\n\r\n### System information\r\n\r\n```text\r\n## System information\r\n\r\nc:geo version: 2022.03.10\r\n\r\nDevice: - Device type: SM-G975F (beyond2lteeea, samsung)\r\n- Available processors: 8\r\n- Android version: 12\r\n- Android build: SP1A.210812.016.G975FXXUEHVC6\r\n- Screen resolution: 1080x2047px (411x779dp)\r\n- Pixel density: 3.4125\r\n- System font scale: 1.3 / used scale: 1.3\r\n- Sailfish OS detected: false\r\n- Google Play services: enabled - 22.12.15 (190400-439420056)\r\n\r\nSensor and location: - Low power mode: inactive\r\n- Compass capabilities: yes\r\n- Rotation vector sensor: present\r\n- Orientation sensor: present\r\n- Magnetometer & Accelerometer sensor: present\r\n- Direction sensor used: rotation vector\r\n\r\nProgram settings: - Settings: v9, Count:200\r\n- Set language: de_AT (system default)\r\n- System date format: dd.MM.yy\r\n- Time zone: GMT+02:00\r\n- Debug mode active: no\r\n- Last backup: 12. Feb., 19:28\r\n- Routing mode: Walk\r\n- Live map mode: true\r\n- OSM multi-threading: true / threads: 4\r\n- Map: Austria (Offline)\r\n- Id: cgeo.geocaching.maps.mapsforge.MapsforgeMapProvider$OfflineMapSource:primary:Locus/mapsVector/Austria.map\r\n- Atts: Map data (c) OpenStreetMap contributors\r\n- Theme: Elevate.zip:Elements.xml\r\n\r\nFilters: - Hide waypoints: -\r\n- LIVE: Status:Gefunden=Nein,Eigener=Nein ([:inconclusive=false:advanced=true]AND(favorites:-:-:percentage=false;type;difficulty_terrain:d=-:d=-:t=-:t=-;status:owned_no:found_no))\r\n- OFFLINE: Keine ([:inconclusive=false:advanced=true]AND(status;type;difficulty_terrain:d=-:d=-:t=-:t=-))\r\n\r\nStored Filters (#0):\r\n\r\nServices: - Geocaching sites enabled:\r\ngeocaching.com: Logged in (Anmeldung OK) / PREMIUM\r\nGeocaching.com Adventure Lab\r\n- Geocaching.com date format: yyyy-MM-dd\r\n- Routing: internal / BRouter installed: true\r\n- Installed c:geo plugins: contacts\r\n\r\nPermissions & paths: - Fine location permission: granted\r\n- Write external storage permission: granted\r\n- System internal c:geo dir: /data/user/0/cgeo.geocaching (277,2 GB free) v3 internal isDir(7 entries)\r\n- Legacy User storage c:geo dir: /data/user/0/cgeo.geocaching (277,2 GB free) v3 internal isDir(7 entries)\r\n- Geocache data: /storage/emulated/0/Android/data/cgeo.geocaching/files/GeocacheData (277,2 GB free) v3 external non-removable isDir(204 entries)\r\n- Internal theme sync (is turned ON): /data/user/0/cgeo.geocaching/MapThemeData (277,2 GB free) v3 internal isDir(9 entries)\r\n- Public Folders: #11\r\n- BASE: /cgeo (User-Defined)[/cgeo[DOCUMENT#0:p-content://com.android.externalstorage.documents/tree/primary%3Acgeo::]] (Uri: content://com.android.externalstorage.documents/tree/primary%3Acgeo/document/primary%3Acgeo, Av:true, files:>=20, dirs:>=9, totalFileSize:>=13,8 MB, free space: 277,2 GB, files on device: 15351808)\r\n- OFFLINE_MAPS: /Locus/mapsVector (User-Defined)[/Locus/mapsVector[DOCUMENT#0:p-content://com.android.externalstorage.documents/tree/primary%3ALocus%2FmapsVector::]] (Uri: content://com.android.externalstorage.documents/tree/primary%3ALocus%2FmapsVector/document/primary%3ALocus%2FmapsVector, Av:true, files:55, dirs:1, totalFileSize:13,3 GB, free space: 277,2 GB, files on device: 15351808)\r\n- OFFLINE_MAP_THEMES: /Locus/mapsVector/_themes (Default)[/Locus/mapsVector/_themes[PERSISTABLE_FOLDER(OFFLINE_MAPS)#1:p-content://com.android.externalstorage.documents/tree/primary%3ALocus%2FmapsVector::/_themes]] (Uri: content://com.android.externalstorage.documents/tree/primary%3ALocus%2FmapsVector/document/primary%3ALocus%2FmapsVector%2F_themes, Av:true, files:8, dirs:0, totalFileSize:1,5 MB, free space: 277,2 GB, files on device: 15351808)\r\n- LOGFILES: /cgeo/logfiles (Default)[/cgeo/logfiles[PERSISTABLE_FOLDER(BASE)#1:p-content://com.android.externalstorage.documents/tree/primary%3Acgeo::/logfiles]] (Uri: content://com.android.externalstorage.documents/tree/primary%3Acgeo/document/primary%3Acgeo%2Flogfiles, Av:true, files:6, dirs:0, totalFileSize:13,7 MB, free space: 277,2 GB, files on device: 15351808)\r\n- GPX: /cgeo/gpx (Default)[/cgeo/gpx[PERSISTABLE_FOLDER(BASE)#1:p-content://com.android.externalstorage.documents/tree/primary%3Acgeo::/gpx]] (Uri: content://com.android.externalstorage.documents/tree/primary%3Acgeo/document/primary%3Acgeo%2Fgpx, Av:true, files:0, dirs:0, totalFileSize:0 B, free space: 277,2 GB, files on device: 15351808)\r\n- BACKUP: /cgeo/backup (Default)[/cgeo/backup[PERSISTABLE_FOLDER(BASE)#1:p-content://com.android.externalstorage.documents/tree/primary%3Acgeo::/backup]] (Uri: content://com.android.externalstorage.documents/tree/primary%3Acgeo/document/primary%3Acgeo%2Fbackup, Av:true, files:5, dirs:2, totalFileSize:293,8 MB, free space: 277,2 GB, files on device: 15351808)\r\n- FIELD_NOTES: /cgeo/field-notes (Default)[/cgeo/field-notes[PERSISTABLE_FOLDER(BASE)#1:p-content://com.android.externalstorage.documents/tree/primary%3Acgeo::/field-notes]] (Uri: content://com.android.externalstorage.documents/tree/primary%3Acgeo/document/primary%3Acgeo%2Ffield-notes, Av:true, files:13, dirs:0, totalFileSize:105,5 KB, free space: 277,2 GB, files on device: 15351808)\r\n- SPOILER_IMAGES: /cgeo/GeocachePhotos (Default)[/cgeo/GeocachePhotos[PERSISTABLE_FOLDER(BASE)#1:p-content://com.android.externalstorage.documents/tree/primary%3Acgeo::/GeocachePhotos]] (Uri: content://com.android.externalstorage.documents/tree/primary%3Acgeo/document/primary%3Acgeo%2FGeocachePhotos, Av:true, files:0, dirs:0, totalFileSize:0 B, free space: 277,2 GB, files on device: 15351808)\r\n- ROUTING_BASE: /cgeo/routing (Default)[/cgeo/routing[PERSISTABLE_FOLDER(BASE)#1:p-content://com.android.externalstorage.documents/tree/primary%3Acgeo::/routing]] (Uri: content://com.android.externalstorage.documents/tree/primary%3Acgeo/document/primary%3Acgeo%2Frouting, Av:true, files:11, dirs:1, totalFileSize:516,8 MB, free space: 277,2 GB, files on device: 15351808)\r\n- ROUTING_TILES: /cgeo/routing/segments4 (Default)[/cgeo/routing/segments4[PERSISTABLE_FOLDER(ROUTING_BASE)#1:p-content://com.android.externalstorage.documents/tree/primary%3Acgeo::/routing/segments4]] (Uri: content://com.android.externalstorage.documents/tree/primary%3Acgeo/document/primary%3Acgeo%2Frouting%2Fsegments4, Av:true, files:4, dirs:0, totalFileSize:516,7 MB, free space: 277,2 GB, files on device: 15351808)\r\n- TEST_FOLDER: [Legacy]/data/user/0/cgeo.geocaching/files/unittest (Default)[/data/user/0/cgeo.geocaching/files/unittest[FILE#1:p-file:///data/user/0/cgeo.geocaching/files::/unittest]] (Uri: file:///data/user/0/cgeo.geocaching/files/unittest, Av:true, files:0, dirs:0, totalFileSize:0 B, free space: 277,2 GB, files on device: -1)\r\n- Map render theme path: Elevate.zip:Elements.xml\r\n- PersistedDocumentUris: #1\r\n- UNUSED_TRACK: null\r\n- Persisted Uri Permissions: #2\r\n- content://com.android.externalstorage.documents/tree/primary%3ALocus%2FmapsVector (20. J\u00e4n., 21:27):RW\r\n- content://com.android.externalstorage.documents/tree/primary%3Acgeo (17. J\u00e4n., 20:34):RW\r\n- Database: /storage/emulated/0/Android/data/cgeo.geocaching/files/databases/data (v98, Size:149,2 MB) on user storage\r\n\r\n--- End of system information ---\r\n```\r\n\r\n\r\n### Additional Information\r\n\r\nSupport ticket #379658",
    "closed_by": null,
    "reactions": {
        "url": "https://api.github.com/repos/cgeo/cgeo/issues/12990/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/cgeo/cgeo/issues/12990/timeline",
    "performed_via_github_app": null,
    "state_reason": null
}