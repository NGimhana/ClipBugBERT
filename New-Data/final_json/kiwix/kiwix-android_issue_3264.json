{
    "url": "https://api.github.com/repos/kiwix/kiwix-android/issues/3264",
    "repository_url": "https://api.github.com/repos/kiwix/kiwix-android",
    "labels_url": "https://api.github.com/repos/kiwix/kiwix-android/issues/3264/labels{/name}",
    "comments_url": "https://api.github.com/repos/kiwix/kiwix-android/issues/3264/comments",
    "events_url": "https://api.github.com/repos/kiwix/kiwix-android/issues/3264/events",
    "html_url": "https://github.com/kiwix/kiwix-android/pull/3264",
    "id": 1622493169,
    "node_id": "PR_kwDOBLs03M5L8mN5",
    "number": 3264,
    "title": "Remove the need for storage permissions",
    "user": {
        "login": "danielzgtg",
        "id": 25646384,
        "node_id": "MDQ6VXNlcjI1NjQ2Mzg0",
        "avatar_url": "https://avatars.githubusercontent.com/u/25646384?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/danielzgtg",
        "html_url": "https://github.com/danielzgtg",
        "followers_url": "https://api.github.com/users/danielzgtg/followers",
        "following_url": "https://api.github.com/users/danielzgtg/following{/other_user}",
        "gists_url": "https://api.github.com/users/danielzgtg/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/danielzgtg/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/danielzgtg/subscriptions",
        "organizations_url": "https://api.github.com/users/danielzgtg/orgs",
        "repos_url": "https://api.github.com/users/danielzgtg/repos",
        "events_url": "https://api.github.com/users/danielzgtg/events{/privacy}",
        "received_events_url": "https://api.github.com/users/danielzgtg/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 7,
    "created_at": "2023-03-14T00:07:38Z",
    "updated_at": "2023-08-17T17:25:39Z",
    "closed_at": "2023-08-17T17:25:38Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "draft": true,
    "pull_request": {
        "url": "https://api.github.com/repos/kiwix/kiwix-android/pulls/3264",
        "html_url": "https://github.com/kiwix/kiwix-android/pull/3264",
        "diff_url": "https://github.com/kiwix/kiwix-android/pull/3264.diff",
        "patch_url": "https://github.com/kiwix/kiwix-android/pull/3264.patch",
        "merged_at": null
    },
    "body": "Fixes #3265 \r\n\r\n# What works\r\n\r\n- Opening ZIMs\r\n- Searching articles\r\n- Reading articles\r\n- All without any storage {permissions in settings, popups, toasts, privacy concerns, and annoyances}\r\n\r\n# What doesn't work and needs to be readded\r\n\r\n- Deleting files\r\n- Is-zim-file detection\r\n- Scanning for ZIMs. I will readd this by allowing the user to select and restrict the folder that they want Kiwix to scan\r\n- Error handling\r\n- Investigate whether file descriptor is already closed or whether I need to close it?\r\n- Downloading\r\n- Adding notes\r\n- Clearing notes\r\n- Selecting notes folder\r\n- Undo close tab\r\n- Database migration\r\n- Multipart zims\r\n\r\n# Removed as obsolete\r\n\r\n- File transfer. (Android has this built-in)\r\n- Storage available space checking. I might preallocate the ZIM instead, as that might help with fragmentation as well. With SAF, you can't and shouldn't be sure which drive the file is stored on, or even if it's a real filesystem compared to a cloud folder\r\n- That infamous 4GB file thing\r\n- Selecting storage devices. I might prompt the user using SAF before downloading each file\r\n\r\n# Before\r\n\r\nUsers had to give kiwix-android the storage permission or else ZIMs could not be opened. I don't like doing so for privacy. Users also experienced bugs with granting that permission, like endless loops.\r\n\r\n# After\r\n\r\nKiwix-android looks the same. You just don't need to take the time to grant the storage permission anymore.\r\n\r\n**Screenshots** \r\n\r\nhttps://user-images.githubusercontent.com/25646384/224858456-ee784863-281b-46bc-80c2-7adca57121cf.mp4\r\n\r\nThis PR is nowhere near done. It might take 2 months to finish.\r\n",
    "closed_by": {
        "login": "Jaifroid",
        "id": 4304337,
        "node_id": "MDQ6VXNlcjQzMDQzMzc=",
        "avatar_url": "https://avatars.githubusercontent.com/u/4304337?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Jaifroid",
        "html_url": "https://github.com/Jaifroid",
        "followers_url": "https://api.github.com/users/Jaifroid/followers",
        "following_url": "https://api.github.com/users/Jaifroid/following{/other_user}",
        "gists_url": "https://api.github.com/users/Jaifroid/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Jaifroid/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Jaifroid/subscriptions",
        "organizations_url": "https://api.github.com/users/Jaifroid/orgs",
        "repos_url": "https://api.github.com/users/Jaifroid/repos",
        "events_url": "https://api.github.com/users/Jaifroid/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Jaifroid/received_events",
        "type": "User",
        "site_admin": false
    },
    "reactions": {
        "url": "https://api.github.com/repos/kiwix/kiwix-android/issues/3264/reactions",
        "total_count": 1,
        "+1": 1,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/kiwix/kiwix-android/issues/3264/timeline",
    "performed_via_github_app": null,
    "state_reason": null
}