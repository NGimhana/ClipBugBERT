{
    "url": "https://api.github.com/repos/kiwix/kiwix-android/issues/3451",
    "repository_url": "https://api.github.com/repos/kiwix/kiwix-android",
    "labels_url": "https://api.github.com/repos/kiwix/kiwix-android/issues/3451/labels{/name}",
    "comments_url": "https://api.github.com/repos/kiwix/kiwix-android/issues/3451/comments",
    "events_url": "https://api.github.com/repos/kiwix/kiwix-android/issues/3451/events",
    "html_url": "https://github.com/kiwix/kiwix-android/pull/3451",
    "id": 1799065216,
    "node_id": "PR_kwDOBLs03M5VNaNj",
    "number": 3451,
    "title": "Fixes of Zim file does not download / pending forever",
    "user": {
        "login": "MohitMaliFtechiz",
        "id": 34593983,
        "node_id": "MDQ6VXNlcjM0NTkzOTgz",
        "avatar_url": "https://avatars.githubusercontent.com/u/34593983?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/MohitMaliFtechiz",
        "html_url": "https://github.com/MohitMaliFtechiz",
        "followers_url": "https://api.github.com/users/MohitMaliFtechiz/followers",
        "following_url": "https://api.github.com/users/MohitMaliFtechiz/following{/other_user}",
        "gists_url": "https://api.github.com/users/MohitMaliFtechiz/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/MohitMaliFtechiz/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/MohitMaliFtechiz/subscriptions",
        "organizations_url": "https://api.github.com/users/MohitMaliFtechiz/orgs",
        "repos_url": "https://api.github.com/users/MohitMaliFtechiz/repos",
        "events_url": "https://api.github.com/users/MohitMaliFtechiz/events{/privacy}",
        "received_events_url": "https://api.github.com/users/MohitMaliFtechiz/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 10,
    "created_at": "2023-07-11T14:26:29Z",
    "updated_at": "2023-07-26T05:43:45Z",
    "closed_at": "2023-07-26T05:43:44Z",
    "author_association": "COLLABORATOR",
    "active_lock_reason": null,
    "draft": false,
    "pull_request": {
        "url": "https://api.github.com/repos/kiwix/kiwix-android/pulls/3451",
        "html_url": "https://github.com/kiwix/kiwix-android/pull/3451",
        "diff_url": "https://github.com/kiwix/kiwix-android/pull/3451.diff",
        "patch_url": "https://github.com/kiwix/kiwix-android/pull/3451.patch",
        "merged_at": "2023-07-26T05:43:44Z"
    },
    "body": "Fixes #3441 \r\n\r\nWe encountered an issue where the download remained pending indefinitely if we canceled it from the notification. This happened because when we canceled the download by clicking the notification cancel button, it kept a reference in the fetch system. Consequently, if we tried to download the same file again, fetch created a new download ID, resulting in a conflict with the existing instance of the file. As a result, the download did not start.\r\n\r\nHowever, when we canceled the download within the app itself, it deletes the instance from fetch, which automatically deletes the temporary file from storage.\r\n\r\nTo resolve this issue, we have made a change. Instead of using the CANCEL action, we now use the DELETE action. So, if the user cancels the download from the notification, it will function the same way as if they have canceled it from within the application.\r\n\r\n\r\nhttps://github.com/kiwix/kiwix-android/assets/34593983/b8d130f5-d58c-44de-a875-707d31d70253\r\n\r\n\r\n\r\n",
    "closed_by": {
        "login": "kelson42",
        "id": 1029718,
        "node_id": "MDQ6VXNlcjEwMjk3MTg=",
        "avatar_url": "https://avatars.githubusercontent.com/u/1029718?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/kelson42",
        "html_url": "https://github.com/kelson42",
        "followers_url": "https://api.github.com/users/kelson42/followers",
        "following_url": "https://api.github.com/users/kelson42/following{/other_user}",
        "gists_url": "https://api.github.com/users/kelson42/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/kelson42/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/kelson42/subscriptions",
        "organizations_url": "https://api.github.com/users/kelson42/orgs",
        "repos_url": "https://api.github.com/users/kelson42/repos",
        "events_url": "https://api.github.com/users/kelson42/events{/privacy}",
        "received_events_url": "https://api.github.com/users/kelson42/received_events",
        "type": "User",
        "site_admin": false
    },
    "reactions": {
        "url": "https://api.github.com/repos/kiwix/kiwix-android/issues/3451/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/kiwix/kiwix-android/issues/3451/timeline",
    "performed_via_github_app": null,
    "state_reason": null
}