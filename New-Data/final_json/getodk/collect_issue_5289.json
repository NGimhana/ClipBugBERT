{
    "url": "https://api.github.com/repos/getodk/collect/issues/5289",
    "repository_url": "https://api.github.com/repos/getodk/collect",
    "labels_url": "https://api.github.com/repos/getodk/collect/issues/5289/labels{/name}",
    "comments_url": "https://api.github.com/repos/getodk/collect/issues/5289/comments",
    "events_url": "https://api.github.com/repos/getodk/collect/issues/5289/events",
    "html_url": "https://github.com/getodk/collect/issues/5289",
    "id": 1378097037,
    "node_id": "I_kwDOAmWdMc5SJBeN",
    "number": 5289,
    "title": "User is unable to take pictures when allowing camera access after choosing deny and don\u2019t ask again on Redmi 9T-Android 10",
    "user": {
        "login": "dbemke",
        "id": 56479916,
        "node_id": "MDQ6VXNlcjU2NDc5OTE2",
        "avatar_url": "https://avatars.githubusercontent.com/u/56479916?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/dbemke",
        "html_url": "https://github.com/dbemke",
        "followers_url": "https://api.github.com/users/dbemke/followers",
        "following_url": "https://api.github.com/users/dbemke/following{/other_user}",
        "gists_url": "https://api.github.com/users/dbemke/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/dbemke/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/dbemke/subscriptions",
        "organizations_url": "https://api.github.com/users/dbemke/orgs",
        "repos_url": "https://api.github.com/users/dbemke/repos",
        "events_url": "https://api.github.com/users/dbemke/events{/privacy}",
        "received_events_url": "https://api.github.com/users/dbemke/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 479195620,
            "node_id": "MDU6TGFiZWw0NzkxOTU2MjA=",
            "url": "https://api.github.com/repos/getodk/collect/labels/needs%20information",
            "name": "needs information",
            "color": "fbca04",
            "default": false,
            "description": null
        }
    ],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": {
        "url": "https://api.github.com/repos/getodk/collect/milestones/31",
        "html_url": "https://github.com/getodk/collect/milestone/31",
        "labels_url": "https://api.github.com/repos/getodk/collect/milestones/31/labels",
        "id": 8509145,
        "node_id": "MI_kwDOAmWdMc4AgdbZ",
        "number": 31,
        "title": "v2023.1",
        "description": "",
        "creator": {
            "login": "seadowg",
            "id": 556280,
            "node_id": "MDQ6VXNlcjU1NjI4MA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/556280?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/seadowg",
            "html_url": "https://github.com/seadowg",
            "followers_url": "https://api.github.com/users/seadowg/followers",
            "following_url": "https://api.github.com/users/seadowg/following{/other_user}",
            "gists_url": "https://api.github.com/users/seadowg/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/seadowg/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/seadowg/subscriptions",
            "organizations_url": "https://api.github.com/users/seadowg/orgs",
            "repos_url": "https://api.github.com/users/seadowg/repos",
            "events_url": "https://api.github.com/users/seadowg/events{/privacy}",
            "received_events_url": "https://api.github.com/users/seadowg/received_events",
            "type": "User",
            "site_admin": false
        },
        "open_issues": 0,
        "closed_issues": 49,
        "state": "closed",
        "created_at": "2022-10-05T14:21:56Z",
        "updated_at": "2023-04-07T08:25:00Z",
        "due_on": null,
        "closed_at": "2023-04-07T08:25:00Z"
    },
    "comments": 8,
    "created_at": "2022-09-19T14:58:25Z",
    "updated_at": "2023-02-28T16:48:01Z",
    "closed_at": "2023-02-28T16:48:00Z",
    "author_association": "NONE",
    "active_lock_reason": null,
    "body": "#### ODK Collect version\r\nv2022.1.0\r\n#### Android version\r\nAndroid 10\r\n#### Device used\r\nXiaomi Redmi 9T\r\n\r\n#### Problem description\r\nAllowing access to camera in device settings after choosing \"deny & don\u2019t ask again\u201d in permission dialog, doesn\u2019t allow to take pictures via Image widget or Video widget but allows to take pictures in the Selfie widget. Sometimes trying to take a picture in Image widgets results in the camera popping up and hiding really quickly.\r\n\r\nhttps://user-images.githubusercontent.com/56479916/191047395-da5f1180-1b1a-4eab-bbac-1bb285a24597.mp4\r\n\r\n\r\n#### Steps to reproduce the problem\r\n1. Go to All widgets form.\r\n2. Go to Image widget.\r\n3. Tap \"Take Picture\u201d.\r\n4. Deny access to pictures and recording video.\r\n5. Tap \"ok\u201d in the next camera permission dialog.\r\n6. Tap \"Take Picture\u201d.\r\n7. Tap \"deny & don\u2019t ask again\u201d.\r\n8. Tap \"open settings\u201d in the next camera permission dialog.\r\n9. In device settings allow camera access.\r\n10. Swipe to Selfie widget.\r\n11. Tap \"Take Picture\u201d.\r\n12. Swipe back to Image widget.\r\n13. Tap \"Take Picture\u201d.\r\n\r\n#### Expected behavior\r\nAfter granting permission to access the camera the user should be able to take pictures.\r\n#### Other information \r\nI wasn't able to reproduce this issue on different devices.",
    "closed_by": {
        "login": "grzesiek2010",
        "id": 3276264,
        "node_id": "MDQ6VXNlcjMyNzYyNjQ=",
        "avatar_url": "https://avatars.githubusercontent.com/u/3276264?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/grzesiek2010",
        "html_url": "https://github.com/grzesiek2010",
        "followers_url": "https://api.github.com/users/grzesiek2010/followers",
        "following_url": "https://api.github.com/users/grzesiek2010/following{/other_user}",
        "gists_url": "https://api.github.com/users/grzesiek2010/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/grzesiek2010/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/grzesiek2010/subscriptions",
        "organizations_url": "https://api.github.com/users/grzesiek2010/orgs",
        "repos_url": "https://api.github.com/users/grzesiek2010/repos",
        "events_url": "https://api.github.com/users/grzesiek2010/events{/privacy}",
        "received_events_url": "https://api.github.com/users/grzesiek2010/received_events",
        "type": "User",
        "site_admin": false
    },
    "reactions": {
        "url": "https://api.github.com/repos/getodk/collect/issues/5289/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/getodk/collect/issues/5289/timeline",
    "performed_via_github_app": null,
    "state_reason": "completed"
}