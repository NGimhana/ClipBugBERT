{
    "url": "https://api.github.com/repos/ankidroid/Anki-Android/issues/9907",
    "repository_url": "https://api.github.com/repos/ankidroid/Anki-Android",
    "labels_url": "https://api.github.com/repos/ankidroid/Anki-Android/issues/9907/labels{/name}",
    "comments_url": "https://api.github.com/repos/ankidroid/Anki-Android/issues/9907/comments",
    "events_url": "https://api.github.com/repos/ankidroid/Anki-Android/issues/9907/events",
    "html_url": "https://github.com/ankidroid/Anki-Android/pull/9907",
    "id": 1056446140,
    "node_id": "PR_kwDOAHXAE84uq5go",
    "number": 9907,
    "title": "Fixed alpha issues for FAB menu",
    "user": {
        "login": "vp-98",
        "id": 79328598,
        "node_id": "MDQ6VXNlcjc5MzI4NTk4",
        "avatar_url": "https://avatars.githubusercontent.com/u/79328598?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/vp-98",
        "html_url": "https://github.com/vp-98",
        "followers_url": "https://api.github.com/users/vp-98/followers",
        "following_url": "https://api.github.com/users/vp-98/following{/other_user}",
        "gists_url": "https://api.github.com/users/vp-98/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/vp-98/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/vp-98/subscriptions",
        "organizations_url": "https://api.github.com/users/vp-98/orgs",
        "repos_url": "https://api.github.com/users/vp-98/repos",
        "events_url": "https://api.github.com/users/vp-98/events{/privacy}",
        "received_events_url": "https://api.github.com/users/vp-98/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [],
    "state": "closed",
    "locked": false,
    "assignee": null,
    "assignees": [],
    "milestone": {
        "url": "https://api.github.com/repos/ankidroid/Anki-Android/milestones/42",
        "html_url": "https://github.com/ankidroid/Anki-Android/milestone/42",
        "labels_url": "https://api.github.com/repos/ankidroid/Anki-Android/milestones/42/labels",
        "id": 6623046,
        "node_id": "MDk6TWlsZXN0b25lNjYyMzA0Ng==",
        "number": 42,
        "title": "2.16 release",
        "description": "",
        "creator": {
            "login": "mikehardy",
            "id": 782704,
            "node_id": "MDQ6VXNlcjc4MjcwNA==",
            "avatar_url": "https://avatars.githubusercontent.com/u/782704?v=4",
            "gravatar_id": "",
            "url": "https://api.github.com/users/mikehardy",
            "html_url": "https://github.com/mikehardy",
            "followers_url": "https://api.github.com/users/mikehardy/followers",
            "following_url": "https://api.github.com/users/mikehardy/following{/other_user}",
            "gists_url": "https://api.github.com/users/mikehardy/gists{/gist_id}",
            "starred_url": "https://api.github.com/users/mikehardy/starred{/owner}{/repo}",
            "subscriptions_url": "https://api.github.com/users/mikehardy/subscriptions",
            "organizations_url": "https://api.github.com/users/mikehardy/orgs",
            "repos_url": "https://api.github.com/users/mikehardy/repos",
            "events_url": "https://api.github.com/users/mikehardy/events{/privacy}",
            "received_events_url": "https://api.github.com/users/mikehardy/received_events",
            "type": "User",
            "site_admin": false
        },
        "open_issues": 4,
        "closed_issues": 3585,
        "state": "open",
        "created_at": "2021-04-04T15:15:20Z",
        "updated_at": "2023-08-28T20:58:04Z",
        "due_on": null,
        "closed_at": null
    },
    "comments": 4,
    "created_at": "2021-11-17T18:18:03Z",
    "updated_at": "2021-12-12T01:57:04Z",
    "closed_at": "2021-11-17T21:55:35Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "draft": false,
    "pull_request": {
        "url": "https://api.github.com/repos/ankidroid/Anki-Android/pulls/9907",
        "html_url": "https://github.com/ankidroid/Anki-Android/pull/9907",
        "diff_url": "https://github.com/ankidroid/Anki-Android/pull/9907.diff",
        "patch_url": "https://github.com/ankidroid/Anki-Android/pull/9907.patch",
        "merged_at": "2021-11-17T21:55:35Z"
    },
    "body": "## Pull Request template\r\n\r\n## Purpose / Description\r\nClicking on the FAB greyed out the entire layout including the FAB menu options. It was expected that everything but the FAB becomes greyed out. This issue was only seemed to occur with tablets.\r\n\r\n## Fixes\r\nFixes #9341 \r\n\r\n## Approach\r\nIn DeckPickerFloatingActionMenu.java the `mLinearLayout` has `setAlpha(0.5f)` called to grey out the menu where `mLinearLayout` is `R.id.deckpicker_view`. For tablets, this ID was for the LinearLayout in \\res\\layout-xlarge\\homescreen.xml which held the deckpicker view, the study options fragment and the FAB layout. Since this layout held everything for tablets, calling `setAlpha(0.5f)` changed the entire layout's alpha.\r\n\r\nInstead of having `mLinearLayout` refer to the LinearLayout in \\res\\layout-xlarge\\homescreen.xml for tablets in DeckPickerFloatingActionMenu.java, referring `mLinearLayout` to the LinearLayout in layout\\deck_picker.xml allows the alpha to be set only to the only the deckpicker view as intended and not the FAB layout.  A new `View` variable is also used to set the alpha for the study FrameLayout if the layout is known to be fragmented without affecting the FAB layout. Now each layout in the x-large screens can have their alpha set independently.\r\n\r\nThe LinearLayout in \\res\\layout-xlarge\\homescreen.xml and layout\\deck_picker.xml have the same ID, therefore the ID for the x-large layout was changed accordingly to allow `mLinearLayout` to refer to the correct layout when calling `view.findViewById()` in DeckPickerFloatingActionMenu.java and `findViewById()` in DeckPicker.java.  \r\n\r\n## How Has This Been Tested?\r\nTested in an emulators on Android Studio.\r\n- Pixel 3A with API 30\r\n- Nexus 10 with API 30\r\n\r\nhttps://user-images.githubusercontent.com/79328598/142258060-2f63c745-8071-499e-957f-88f3ae87f7ee.mp4\r\n\r\nhttps://user-images.githubusercontent.com/79328598/142258079-fa049af8-ec20-4954-816c-fdb97b94cc0e.mp4\r\n\r\nhttps://user-images.githubusercontent.com/79328598/142258140-55d305a2-6371-445c-b305-6df8543d7cab.mp4\r\n\r\n## Learning (optional, can help others)\r\nWent through the codebase and used the app for a bit on both a tablet emulator and a phone emulator to get a better understanding of the behavior and the issue.\r\n\r\n## Checklist\r\n_Please, go through these checks before submitting the PR._\r\n\r\n- [X] You have not changed whitespace unnecessarily (it makes diffs hard to read)\r\n- [X] You have a descriptive commit message with a short title (first line, max 50 chars).\r\n- [X] Your code follows the style of the project (e.g. never omit braces in `if` statements) \r\n- [ ] You have commented your code, particularly in hard-to-understand areas\r\n- [X] You have performed a self-review of your own code\r\n- [ ] UI changes: include screenshots of all affected screens (in particular showing any new or changed strings)\r\n- [ ] UI Changes: You have tested your change using the [Google Accessibility Scanner](https://play.google.com/store/apps/details?id=com.google.android.apps.accessibility.auditor)\r\n\r\n",
    "closed_by": {
        "login": "mikehardy",
        "id": 782704,
        "node_id": "MDQ6VXNlcjc4MjcwNA==",
        "avatar_url": "https://avatars.githubusercontent.com/u/782704?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mikehardy",
        "html_url": "https://github.com/mikehardy",
        "followers_url": "https://api.github.com/users/mikehardy/followers",
        "following_url": "https://api.github.com/users/mikehardy/following{/other_user}",
        "gists_url": "https://api.github.com/users/mikehardy/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/mikehardy/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/mikehardy/subscriptions",
        "organizations_url": "https://api.github.com/users/mikehardy/orgs",
        "repos_url": "https://api.github.com/users/mikehardy/repos",
        "events_url": "https://api.github.com/users/mikehardy/events{/privacy}",
        "received_events_url": "https://api.github.com/users/mikehardy/received_events",
        "type": "User",
        "site_admin": false
    },
    "reactions": {
        "url": "https://api.github.com/repos/ankidroid/Anki-Android/issues/9907/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/ankidroid/Anki-Android/issues/9907/timeline",
    "performed_via_github_app": null,
    "state_reason": null
}