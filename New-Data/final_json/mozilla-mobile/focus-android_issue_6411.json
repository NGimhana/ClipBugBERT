{
    "url": "https://api.github.com/repos/mozilla-mobile/focus-android/issues/6411",
    "repository_url": "https://api.github.com/repos/mozilla-mobile/focus-android",
    "labels_url": "https://api.github.com/repos/mozilla-mobile/focus-android/issues/6411/labels{/name}",
    "comments_url": "https://api.github.com/repos/mozilla-mobile/focus-android/issues/6411/comments",
    "events_url": "https://api.github.com/repos/mozilla-mobile/focus-android/issues/6411/events",
    "html_url": "https://github.com/mozilla-mobile/focus-android/pull/6411",
    "id": 1132799942,
    "node_id": "PR_kwDOBIeEJM4yiJx_",
    "number": 6411,
    "title": "New CFR popup composable",
    "user": {
        "login": "Mugurell",
        "id": 11428869,
        "node_id": "MDQ6VXNlcjExNDI4ODY5",
        "avatar_url": "https://avatars.githubusercontent.com/u/11428869?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/Mugurell",
        "html_url": "https://github.com/Mugurell",
        "followers_url": "https://api.github.com/users/Mugurell/followers",
        "following_url": "https://api.github.com/users/Mugurell/following{/other_user}",
        "gists_url": "https://api.github.com/users/Mugurell/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/Mugurell/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/Mugurell/subscriptions",
        "organizations_url": "https://api.github.com/users/Mugurell/orgs",
        "repos_url": "https://api.github.com/users/Mugurell/repos",
        "events_url": "https://api.github.com/users/Mugurell/events{/privacy}",
        "received_events_url": "https://api.github.com/users/Mugurell/received_events",
        "type": "User",
        "site_admin": false
    },
    "labels": [
        {
            "id": 2816082637,
            "node_id": "MDU6TGFiZWwyODE2MDgyNjM3",
            "url": "https://api.github.com/repos/mozilla-mobile/focus-android/labels/%F0%9F%9B%AC%20needs%20landing",
            "name": "\ud83d\udeec needs landing",
            "color": "dcedc8",
            "default": false,
            "description": "PRs that are ready to land"
        }
    ],
    "state": "closed",
    "locked": true,
    "assignee": null,
    "assignees": [],
    "milestone": null,
    "comments": 6,
    "created_at": "2022-02-11T16:07:10Z",
    "updated_at": "2022-02-23T09:38:33Z",
    "closed_at": "2022-02-22T19:00:29Z",
    "author_association": "CONTRIBUTOR",
    "active_lock_reason": null,
    "draft": false,
    "pull_request": {
        "url": "https://api.github.com/repos/mozilla-mobile/focus-android/pulls/6411",
        "html_url": "https://github.com/mozilla-mobile/focus-android/pull/6411",
        "diff_url": "https://github.com/mozilla-mobile/focus-android/pull/6411.diff",
        "patch_url": "https://github.com/mozilla-mobile/focus-android/pull/6411.patch",
        "merged_at": "2022-02-22T19:00:29Z"
    },
    "body": "This is intended to fix all issues related to layout and anchoring and serve as\r\nthe default way for building and showing a CFR popup. (Anchored to top).\r\n\r\nBecause of the async nature of the values for insets and screen rotation immediately after an orientation change the popup will automatically get dismissed to prevent any anchoring issues.\r\nWhile not ideal the effect of this is better than accepting layout issues after orientation changes and is the same approach used for other of our popups.\r\n\r\nChose to use compose because it can ease anchoring and also ties in with the compose refactoring.\r\nGoing by this route allows us easier control over the popup, with it being built at runtime and not depend on hardcoded drawables.\r\nFor example it would help with showing anchorage by having the arrow indicator at the right position while the hardcoded drawable would have issues with anchors immediately at the start of the screen since the arrow indicator has a fixed padding that may be too big to properly show the anchorage. Plus the colors now match perfectly!\r\n\r\nhttps://user-images.githubusercontent.com/11428869/153623802-6f09556f-86f5-4aa3-bdec-1f349f8c7493.mp4\r\n\r\n&nbsp;\r\n-------------------\r\n&nbsp;\r\n\r\nHow will these help the new CFRs:\r\n\r\n| Security CFR in LTR  | Security CFR in LTR |\r\n| --- | --- |\r\n| <video src=\"https://user-images.githubusercontent.com/11428869/154315551-16a1e1a4-4f60-46b5-a9f0-69da8aeb5a05.mp4\" /> | <video src=\"https://user-images.githubusercontent.com/11428869/154315908-1187eee9-d23a-4c4e-bff5-378317c45d52.mp4\" /> |\r\n\r\n| Erase tabs CFR in LTR  | Erase tabs CFR in LTR |\r\n| --- | --- |\r\n| <video src=\"https://user-images.githubusercontent.com/11428869/154316120-23ede547-2ef5-4055-9c71-f60346d6d129.mp4\" /> | <video src=\"https://user-images.githubusercontent.com/11428869/154316188-c0b08fbb-9793-4522-a081-4720a82fda0b.mp4\" /> |\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n### Pull Request checklist\r\n<!-- Before submitting the PR, please address each item -->\r\n- [ ] **Tests**: This PR includes thorough tests or an explanation of why it does not\r\n- [ ] **Screenshots**: This PR includes screenshots or GIFs of the changes made or an explanation of why it does not\r\n- [ ] **Accessibility**: The code in this PR follows [accessibility best practices](https://github.com/mozilla-mobile/shared-docs/blob/master/android/accessibility_guide.md) or does not include any user facing features. In addition, it includes a screenshot of a successful [accessibility scan](https://play.google.com/store/apps/details?id=com.google.android.apps.accessibility.auditor&hl=en_US) to ensure no new defects are added to the product.\r\n\r\n### To download an APK when reviewing a PR:\r\n1. click on `Show All Checks`,\r\n2. click `Details` next to `build-focus-debug` or `build-klar-debug` for changes targeting Klar,\r\n2. click `View task in Taskcluster`,\r\n3. click the `Artifacts` row,\r\n4. click to download any of the apks listed here which use an appropriate name for each CPU architecture.\r\n",
    "closed_by": {
        "login": "mergify[bot]",
        "id": 37929162,
        "node_id": "MDM6Qm90Mzc5MjkxNjI=",
        "avatar_url": "https://avatars.githubusercontent.com/in/10562?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/mergify%5Bbot%5D",
        "html_url": "https://github.com/apps/mergify",
        "followers_url": "https://api.github.com/users/mergify%5Bbot%5D/followers",
        "following_url": "https://api.github.com/users/mergify%5Bbot%5D/following{/other_user}",
        "gists_url": "https://api.github.com/users/mergify%5Bbot%5D/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/mergify%5Bbot%5D/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/mergify%5Bbot%5D/subscriptions",
        "organizations_url": "https://api.github.com/users/mergify%5Bbot%5D/orgs",
        "repos_url": "https://api.github.com/users/mergify%5Bbot%5D/repos",
        "events_url": "https://api.github.com/users/mergify%5Bbot%5D/events{/privacy}",
        "received_events_url": "https://api.github.com/users/mergify%5Bbot%5D/received_events",
        "type": "Bot",
        "site_admin": false
    },
    "reactions": {
        "url": "https://api.github.com/repos/mozilla-mobile/focus-android/issues/6411/reactions",
        "total_count": 0,
        "+1": 0,
        "-1": 0,
        "laugh": 0,
        "hooray": 0,
        "confused": 0,
        "heart": 0,
        "rocket": 0,
        "eyes": 0
    },
    "timeline_url": "https://api.github.com/repos/mozilla-mobile/focus-android/issues/6411/timeline",
    "performed_via_github_app": null,
    "state_reason": null
}